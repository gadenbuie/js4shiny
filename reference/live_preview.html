<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Serve a Live Preview — live_preview • js4shiny</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Serve a Live Preview — live_preview" />
<meta property="og:description" content="Opens a live preview of the files in a directory. The live preview server
automatically renders R Markdown files when they are saved, and the preview
is refreshed whenever R Markdown files or supporting files, such as .js,
.css, .htm, .html, .sass, or .scss files, are updated. This
functionality requires the servr package." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">js4shiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.27</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Overview</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa fa fa-newspaper-o fa-lg"></span>
     
    
  </a>
</li>
<li>
  <a href="https://github.com/gadenbuie/js4shiny">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/grrrck">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://garrickadenbuie.com">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Serve a Live Preview</h1>
    <small class="dont-index">Source: <a href='https://github.com/gadenbuie/js4shiny/blob/master/R/addins.R'><code>R/addins.R</code></a></small>
    <div class="hidden name"><code>live_preview.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Opens a live preview of the files in a directory. The live preview server
automatically renders R Markdown files when they are saved, and the preview
is refreshed whenever R Markdown files or supporting files, such as <code>.js</code>,
<code>.css</code>, <code>.htm</code>, <code>.html</code>, <code>.sass</code>, or <code>.scss</code> files, are updated. This
functionality requires the <span class="pkg">servr</span> package.</p>
    </div>

    <pre class="usage"><span class='fu'>live_preview</span>(
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span>(),
  <span class='kw'>update_pattern</span> <span class='kw'>=</span> <span class='st'>"[.](js|css|[Rr][Mm][Dd]|html?|s[ca]ss)$"</span>,
  <span class='no'>...</span>,
  <span class='kw'>render_quietly</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"js4shiny.live_preview.quiet"</span>, <span class='fl'>TRUE</span>),
  <span class='kw'>external</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)

<span class='fu'>live_preview_stop</span>(<span class='kw'>which</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>The path for the directory or file to preview. If the path given
is an R Markdown document or HTML document, the HTML version of that file
will be opened directly, otherwise the directory containing the file will
be served.</p></td>
    </tr>
    <tr>
      <th>update_pattern</th>
      <td><p>Update the live preview when files matching this
pattern are updated. By default, updating files with the following
extensions will update the preview: <code>.Rmd</code> (case insensitive), <code>.html</code>,
<code>.htm</code>, <code>.js</code>, <code>.css</code>, <code>.sass</code>, <code>.scss</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code><a href='https://rdrr.io/pkg/servr/man/httd.html'>servr::httw</a></code></p><dl class='dl-horizontal'>
    <dt><code>dir</code></dt><dd><p>The root directory to serve.</p></dd>
    <dt><code>watch</code></dt><dd><p>a directory under which <code>httw()</code> is to watch for changes;
if it is a relative path, it is relative to the <code>dir</code> argument</p></dd>
    <dt><code>pattern</code></dt><dd><p>a regular expression passed to <code><a href='https://rdrr.io/r/base/list.files.html'>list.files</a>()</code> to
determine the files to watch</p></dd>
    <dt><code>all_files</code></dt><dd><p>whether to watch all files including the hidden files</p></dd>
    <dt><code>handler</code></dt><dd><p>a function to be called every time any files are changed or
added under the directory; its argument is a character vector of the
filenames of the files modified or added</p></dd>
  
</dl></td>
    </tr>
    <tr>
      <th>render_quietly</th>
      <td><p>If <code>TRUE</code> (default), the output from
<code><a href='https://rdrr.io/pkg/rmarkdown/man/render.html'>rmarkdown::render()</a></code> will not be shown. Set to <code>FALSE</code> for debugging. You
can set the default value with a global option:</p>
<p><code><a href='https://rdrr.io/r/base/options.html'>options(js4shiny.live_preview.quiet = FALSE)</a></code></p></td>
    </tr>
    <tr>
      <th>external</th>
      <td><p>Should the live preview be opened in an external browser?
The default is <code>FALSE</code> and the preivew is opened in the RStudio viewer pane
(if launched inside RStudio).</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>A integer vector of the server IDs; by default, IDs of all
existing servers in the current R session obtained from
<code>daemon_list()</code>, i.e., all daemon servers will be stopped by default.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly returns the <code><a href='https://rdrr.io/pkg/servr/man/httd.html'>servr::httw()</a></code> object, so that you can
manually stop the server with the <code>$stop_server()</code> method.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>live_preview_stop</code>: Stop the live preview background daemons. See
<code><a href='https://rdrr.io/pkg/servr/man/daemon_stop.html'>servr::daemon_list()</a></code> for more information.</p></li>
</ul>
    <h2 class="hasAnchor" id="rstudio-addins"><a class="anchor" href="#rstudio-addins"></a>RStudio Addins</h2>

    <p>There are three Live Preview addins provided by
<span class="pkg">js4shiny</span>. <strong>Live Preview</strong> and <strong>Live Preview (External)</strong> open a
live preview of the directory of the currently open document, if possible
at the current HTML document corresponding to the open document. The
external preview addin automatically opens the preview in your web browser,
otherwise the preview is opened in the RStudio Viewer pane.</p>
<p>To stop the live server, you can call <code><a href='https://rdrr.io/pkg/servr/man/daemon_stop.html'>servr::daemon_stop()</a></code> or
<code>live_preview_stop()</code>, which will stop all bakground <span class="pkg">servr</span> daemons,
or you can use the <strong>Live Preview Stop</strong> addin.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span>()) {

<span class='no'>tmp_dir</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span>(<span class='st'>"live-preview"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span>(<span class='no'>tmp_dir</span>)
<span class='no'>tmp_rmd</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>tmp_dir</span>, <span class='st'>"js4shiny-plain.Rmd"</span>)

<span class='co'># Create a new js4shiny plain HTML document. If interactive</span>
<span class='co'># and in RStudio, this file will open and you can use the</span>
<span class='co'># addins to launch the live preview</span>
<span class='fu'><a href='js4shiny_rmd.html'>js4shiny_rmd</a></span>(<span class='st'>"js"</span>, <span class='kw'>full_template</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='no'>tmp_rmd</span>)

<span class='no'>srvr</span> <span class='kw'>&lt;-</span> <span class='fu'>live_preview</span>(<span class='no'>tmp_rmd</span>)

<span class='co'># Stop all background servers with either of the following</span>
<span class='co'># live_preview_stop()</span>
<span class='co'># servr::daemon_stop()</span>
<span class='co'>#</span>
<span class='co'># Or if you've saved the return value from live_preview()</span>
<span class='co'># srvr$stop_server()</span>
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#functions">Functions</a></li>
      <li><a href="#rstudio-addins">RStudio Addins</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.garrickadenbuie.com'>Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


