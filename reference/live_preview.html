<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Opens a live preview of the files in a directory. The live preview server
automatically renders R Markdown files when they are saved, and the preview
is refreshed whenever R Markdown files or supporting files, such as .js,
.css, .htm, .html, .sass, or .scss files, are updated. This
functionality requires the servr package."><title>Serve a Live Preview — live_preview • js4shiny</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_IBM%20Plex%20Mono-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Serve a Live Preview — live_preview"><meta property="og:description" content="Opens a live preview of the files in a directory. The live preview server
automatically renders R Markdown files when they are saved, and the preview
is refreshed whenever R Markdown files or supporting files, such as .js,
.css, .htm, .html, .sass, or .scss files, are updated. This
functionality requires the servr package."><meta property="og:image" content="https://pkg.js4shiny.com/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@grrrck"><meta name="twitter:site" content="@grrrck"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">js4shiny</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.28</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">Overview</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/literate-javascript.html">Literate JavaScript Programming</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="far fa far fa-newspaper fa-lg"></span>
     
    
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gadenbuie/js4shiny">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/grrrck">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://garrickadenbuie.com">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Serve a Live Preview</h1>
      <small class="dont-index">Source: <a href="https://github.com/gadenbuie/js4shiny/blob/HEAD/R/addins.R" class="external-link"><code>R/addins.R</code></a></small>
      <div class="d-none name"><code>live_preview.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Opens a live preview of the files in a directory. The live preview server
automatically renders R Markdown files when they are saved, and the preview
is refreshed whenever R Markdown files or supporting files, such as <code>.js</code>,
<code>.css</code>, <code>.htm</code>, <code>.html</code>, <code>.sass</code>, or <code>.scss</code> files, are updated. This
functionality requires the <span class="pkg">servr</span> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">live_preview</span><span class="op">(</span>
  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,
  update_pattern <span class="op">=</span> <span class="st">"[.](js|css|[Rr]?[Mm][Dd]|html?|s[ca]ss)$"</span>,
  <span class="va">...</span>,
  render_quietly <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"js4shiny.live_preview.quiet"</span>, <span class="cn">TRUE</span><span class="op">)</span>,
  external <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu">live_preview_stop</span><span class="op">(</span>which <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>The path for the directory or file to preview. If the path given
is an R Markdown document or HTML document, the HTML version of that file
will be opened directly, otherwise the directory containing the file will
be served.</p></dd>
<dt>update_pattern</dt>
<dd><p>Update the live preview when files matching this
pattern are updated. By default, updating files with the following
extensions will update the preview: <code>.Rmd</code> (case insensitive), <code>.html</code>,
<code>.htm</code>, <code>.js</code>, <code>.css</code>, <code>.sass</code>, <code>.scss</code>.</p></dd>
<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="https://rdrr.io/pkg/servr/man/httd.html" class="external-link">servr::httw</a></code></p><dl><dt><code>dir</code></dt>
<dd><p>The root directory to serve.</p></dd>

    <dt><code>watch</code></dt>
<dd><p>a directory under which <code>httw()</code> is to watch for changes;
if it is a relative path, it is relative to the <code>dir</code> argument</p></dd>

    <dt><code>pattern</code></dt>
<dd><p>a regular expression passed to <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a>()</code> to
determine the files to watch</p></dd>

    <dt><code>all_files</code></dt>
<dd><p>whether to watch all files including the hidden files</p></dd>

    <dt><code>handler</code></dt>
<dd><p>a function to be called every time any files are changed or
added under the directory; its argument is a character vector of the
filenames of the files modified or added</p></dd>

  
</dl></dd>
<dt>render_quietly</dt>
<dd><p>If <code>TRUE</code> (default), the output from
<code><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">rmarkdown::render()</a></code> will not be shown. Set to <code>FALSE</code> for debugging. You
can set the default value with a global option:</p>
<p><code>options(js4shiny.live_preview.quiet = FALSE)</code></p></dd>
<dt>external</dt>
<dd><p>Should the live preview be opened in an external browser?
The default is <code>FALSE</code> and the preivew is opened in the RStudio viewer pane
(if launched inside RStudio).</p></dd>
<dt>which</dt>
<dd><p>A integer vector of the server IDs; by default, IDs of all
existing servers in the current R session obtained from
<code>daemon_list()</code>, i.e., all daemon servers will be stopped by default.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns the <code><a href="https://rdrr.io/pkg/servr/man/httd.html" class="external-link">servr::httw()</a></code> object, so that you can
manually stop the server with the <code>$stop_server()</code> method.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>live_preview_stop</code>: Stop the live preview background daemons. See
<code><a href="https://rdrr.io/pkg/servr/man/daemon_stop.html" class="external-link">servr::daemon_list()</a></code> for more information.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="rstudio-addins">RStudio Addins<a class="anchor" aria-label="anchor" href="#rstudio-addins"></a></h2>
    <p>There are three Live Preview addins provided by
<span class="pkg">js4shiny</span>. <strong>Live Preview</strong> and <strong>Live Preview (External)</strong> open a
live preview of the directory of the currently open document, if possible
at the current HTML document corresponding to the open document. The
external preview addin automatically opens the preview in your web browser,
otherwise the preview is opened in the RStudio Viewer pane.</p>
<p>To stop the live server, you can call <code><a href="https://rdrr.io/pkg/servr/man/daemon_stop.html" class="external-link">servr::daemon_stop()</a></code> or
<code>live_preview_stop()</code>, which will stop all bakground <span class="pkg">servr</span> daemons,
or you can use the <strong>Live Preview Stop</strong> addin.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">tmp_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"live-preview"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmp_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tmp_rmd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp_dir</span>, <span class="st">"js4shiny-plain.Rmd"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create a new js4shiny plain HTML document. If interactive</span></span>
<span class="r-in"><span class="co"># and in RStudio, this file will open and you can use the</span></span>
<span class="r-in"><span class="co"># addins to launch the live preview</span></span>
<span class="r-in"><span class="fu"><a href="js4shiny_rmd.html">js4shiny_rmd</a></span><span class="op">(</span><span class="st">"js"</span>, full_template <span class="op">=</span> <span class="cn">TRUE</span>, path <span class="op">=</span> <span class="va">tmp_rmd</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">srvr</span> <span class="op">&lt;-</span> <span class="fu">live_preview</span><span class="op">(</span><span class="va">tmp_rmd</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Stop all background servers with either of the following</span></span>
<span class="r-in"><span class="co"># live_preview_stop()</span></span>
<span class="r-in"><span class="co"># servr::daemon_stop()</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># Or if you've saved the return value from live_preview()</span></span>
<span class="r-in"><span class="co"># srvr$stop_server()</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  <script>window.jQuery('.navbar-brand + small').addClass(['badge', 'bg-secondary', 'text-light']).removeClass('text-muted')</script></body></html>

